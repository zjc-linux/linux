------------------------------------------------配置集群---------------------------------
[root@node2-51 src]# redis-trib.rb create --replicas 1 \        ---replicas   数字是几就是每个主库需要几个从库
> 192.168.31.51:6351 192.168.31.52:6352 \
> 192.168.31.53:6353 192.168.31.54:6354 \
> 192.168.31.55:6355 192.168.31.56:6356         yes

192.168.31.51:6351>cluster info   查看状态
192.168.31.51:6351> CLUSTER NODES   查看节点
[root@node2-51 6379]# cd /var/lib/redis/6379/
dump.rdb (redis写入硬盘数据)  nodes-6351.conf(集群文件)
------------------------------------------------------------------------------------------------------------------------------------
[root@node2-51 6379]# redis-trib.rb check 192.168.31.51:6351  检测集群
[root@node1 ~]# redis-cli -c -h 192.168.31.51 -p 6351  连接
192.168.31.51:6351> set x 101   存数据  存到了53
192.168.31.51:6351> set z 111   存数据  存到了52
192.168.31.51:6351> get x   或get z  会跳转到有数据的对应主机
停止主机master的redis服务
 master宕机后对应的slave会自动选举为master
 原master启动后 会自动配置为当前master的slave


